# **Настройка Звука**
в системе Windows происходит через [[Настройки звука.lnk|это меню]]. Ниже вас ждёт объёмный, но крайне важный раздел о том как правильно работать со звуком в Windows чтобы избежать проблем.
К сожалению, об этих особенностях иногда не знают даже популярные авторы, стримеры. 
Пора положить конец "слетающему" звуку!

<video src="../media/4. Звуковые устройства.mp4" muted autoplay loop ></video>
> [!info] Кстати...
>  [[Настройки звука.lnk|Это меню настроек]] можно добавить в удобное место для быстрого доступа, например в меню пуск или на рабочий стол, чтобы иметь к нему быстрый доступ на случай если звуковое устройство "слетит". Для этого скопируйте ярлык из [[Настройки Звука Ссылка.lnk|этой папки]]. 
>  После копирования можно **закрепить в меню пуск** или **перенести на панель задач**.

<video src="../media/4. Звуковые устройства2.mp4" muted autoplay loop ></video>
> [!warning] Очень важно!
> Во всех программах где используются звуковые устройства (**OBS**, **Discord**, **Nvidia App** и.т.д.) всегда выбирайте **Устройство по умолчанию** или **Default**, а не конкретное устройство. Чтобы всё управление ими происходило через системное меню [[Настройки звука.lnk|звук]]. Если в каждой программе выбраны конкретные устройства, и Windows решит испортить настройку... вам придётся вручную выбирать устройство снова в **КАЖДОЙ ПРОГРАММЕ**! 
> В случае же с выбором **Устройство по умолчанию**, вам нужно будет лишь выбрать нужное устройство в [[Настройки звука.lnk|данном системном меню]] и звук вернётся сразу во всех программах, где был выбран вариант "**Default**".

Во вкладке "Воспроизведение" нажмите на то устройство, которое вы хотите использовать для вывода звука (аудио-карта, наушники, колонки или порт jack 3,5 на USB микрофоне), а затем, выделив его, нажмите снизу на кнопку "**По умолчанию**". Именно снизу, ведь так вы сделайте устройство основным сразу и "**для связи**". После этого это устройство станет основным для воспроизведения звука на ПК. Во вкладке "**Запись**" также выбираем нужный микрофон и нажимаем снизу "**По умолчанию**".

> [!info]  Что такое **устройство для связи по умолчанию**?
> Это второй тег для звуковых устройств, например OBS и Discord используют устройство с тегом "для связи по умолчанию", а игры используют обычный тег "по умолчанию". 
> Два тега были добавлены в Windows для случаев когда для общения пользователь использует отдельную гарнитуру. Но из-за того что заранее не известно какой тег будет использовать та или иная программа, я рекомендую присваивать оба тега одному устройству с помощью общей кнопки "По умолчанию" снизу.

Важно также перейти в свойства выбранных вами устройств во вкладках воспроизведение и запись. Для этого выберете устройства и нажмите кнопку "Свойства" снизу. А затем выставить им желаемую громкость и другие необходимые параметры.

> [!info] Кстати...
> Для многих USB-микрофонов важно выставить громкость примерно на 97% так как под процентом громкости часто имеется ввиду их чувствительность. В этом случае важно также избегать установки этого значения на 100% чтобы избежать нежелательного шума. А в случае с внешними звуковыми картами можно выставить громкость воспроизведения и микрофона на максимум, чтобы контролировать её регуляторами на самом устройстве если они есть.

Для использования устройств в OBS также важно выставить частоту дискретизации во вкладке "дополнительно" именно на 48000гц и не выше, т.к. это максимальное значение для OBS и оно используется в нем по умолчанию. Важно убедиться что эти значения совпадают, чтобы избежать возможных проблем.

Также можно выставить глубину на максимальное доступное значение (16, 24 или 32 бит). 
Пример: на звуковой карте Focusrite Scarlet правильным значением будет - 24бит, 48000гц.

Можно также для удобства отключить все остальные устройства воспроизведения, которые вы не используйте для вывода звука. Нажмите на них правой кнопкой мыши **отключить**. 

> [!warning] Из-за чего слетают устройства и как этого избежать? Крайне Важно!
> Если вы подключите устройство (даже отключённое в меню [[Настройки звука.lnk|звук]]) в другой USB порт, а также если подключить к ПК любое звуковое устройство - последнее подключённое устройство автоматически станет "По умолчанию". **Это особенность работы Windows с аудио которую нельзя отключить**. И именно она является причиной постоянных проблем с пропаданием звука как у обычных пользователей, так и у популярных стримеров.
> 
> Пример: Вы настроили стрим идеально, проверили его работу и даже успешно провели трансляцию по игре Valorant. Но на следующий день вы запустили стрим с прохождением Elden Ring и подключили веб-камеру. Зрители в чате сразу же начали писать про отсутствие как звука микрофона, так и звука игры на стриме.
> Всё дело в том, что перед стримом вы подключили к ПК геймпад PlayStation DualSense для комфортной игры в Elden Ring и, так как в нём есть порт 3.5 jack, именно на него переключился Windows как на новое устройство воспроизведения.
> А звук с микрофона пропал из-за подключённой веб-камеры. У них почти всегда есть встроенный микрофон и именно его выбрал Windows как устройство записи.
> 
> **И выбор конкретного звукового устройства в программах** - не решение. Ведь Windows может также поменять ID уже подключённого устройства в ряде случаев: например, после установки новой версии драйвера на него (которая может произойти автоматически), а также, например, если после уборки вы подключили ваши устройства не в те порты USB в которых они были на момент настройки. В этом случае вы можете столкнутся с популярной проблемой, когда звук пропал, хотя в поле выбора в программе всё также выбран ваш микрофон Fifine AM8, но вам всё равно нужно его сменить, а затем выбрать тот же самый снова. Это происходит именно из-за того что несмотря на одинаковые названия, устройству был присвоен новый ID.
> 
> Повторюсь, избавиться от этой проблемы **нельзя** и всё что может сделать пользователь это знать об этой особенности и избегать ситуаций при которых система Windows ломает вашу настройку звука. Также можно заранее позаботится об удобстве.
> 
> > [!EXAMPLE] Для этого есть два способа:
> > 
> > 
> > Первый описан в самом начале этой страницы. Держите меню [[Настройки звука.lnk|звук]] всегда под рукой, чтобы в случае "слёта устройств", можно было быстро и удобно зайти в него и вернуть верные устройства по умолчанию вручную. 
> > 
> > Второй - используйте удобную программу с открытым исходным кодом чтобы переключать устройства в один клик, подобно смене языка. 
> > Я добавил отдельную страницу о [[4.1 SoundSwitch|настройке программы SoundSwitch]].
>
>
> Снова повторюсь что крайне важно использовать в полях выбора в программах именно **Устройство по умолчанию** или **Default** чтобы ваш выбор в меню [[Настройки звука.lnk|звук]] или в программе **SoundSwitch** был актуален для всех программ на ПК одновременно и вам не приходилось выбирать устройство в каждой из них после очередной ошибки. 
> В моей настройке OBS, все звуковые источники уже установлены на "**По умолчанию**", не меняйте это значение без необходимости.
> 

<video src="../media/4. Звуковые устройства3.mp4" muted autoplay loop ></video>
> [!question] Почему стоит использовать именно это устаревшее меню звука, а не новые?
> Потому новые меню в Windows реализованы криво. Например, казалось бы удобное быстрое меню, которое открывается сочетанием `🪟+CTRL+V` или нажатии на значок звука в трее на панели задач, позволяет выбрать устройство по умолчанию, но, к сожалению, только по одному из тегов. При этом на тег **устройство для связи по умолчанию** такое переключение никак не влияет. Что может сильно запутать пользователя: *"Почему я переключил устройство, но на звук в приложениях Disocord и OBS это никак не повлияло, только на игру и браузер?"*. 
> 
> То же самое касается и полноценных настроек звука в приложении параметры. Но в них уже можно нажать на конкретное устройство и дать ему сразу оба тега по умолчанию. Однако это требует куда больше действий. 
> 
> По итогу старое меню из Windows Vista всё ещё остаётся самым быстрым и удобным способом настройки.

> [!success] Я прочитал всю информацию выше и настроил звуковые устройства в Windows
> # [[5. Уведомления Windows|Продолжить]]